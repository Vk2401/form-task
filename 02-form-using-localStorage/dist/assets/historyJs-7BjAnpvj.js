document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#historyTableContainer tbody"),t=JSON.parse(localStorage.getItem("historyData"))||[];if(e.innerHTML="",t.forEach((o,n)=>{const a=document.createElement("tr");["uweight","uheight","uage","uactivity","caloriesResult","dateTime"].forEach(r=>{const i=document.createElement("td");i.classList.add("py-2","px-4","border-b"),i.textContent=o[r],a.appendChild(i)});const c=document.createElement("button");c.classList.add("bg-red-500","hover:bg-red-600","text-white","py-1","px-2","rounded","focus:outline-none"),c.textContent="Delete",c.onclick=function(){t.splice(n,1),localStorage.setItem("historyData",JSON.stringify(t)),s(),l()};const d=document.createElement("td");d.classList.add("py-2","px-4","border-b"),d.appendChild(c),a.appendChild(d),e.appendChild(a)}),t.length===0){const o=document.createElement("tr"),n=document.createElement("td");n.setAttribute("colspan","7"),n.textContent="No history data available.",o.appendChild(n),e.appendChild(o)}});function s(){document.dispatchEvent(new Event("DOMContentLoaded"))}function l(){const e=JSON.parse(localStorage.getItem("historyData"))||[];if(e.length>0){const t=e[e.length-1],o=document.getElementById("currentWeight"),n=document.getElementById("currentHeight"),a=document.getElementById("currentAge"),c=document.getElementById("activityStatus");o.textContent=t.weight,n.textContent=t.height,a.textContent=t.age,c.textContent=t.activity}}
